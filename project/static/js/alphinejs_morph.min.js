(()=>{var D=class{el=void 0;constructor(r){this.el=r}traversals={first:"firstElementChild",next:"nextElementSibling",parent:"parentElement"};nodes(){return this.traversals={first:"firstChild",next:"nextSibling",parent:"parentNode"},this}first(){return this.teleportTo(this.el[this.traversals.first])}next(){return this.teleportTo(this.teleportBack(this.el[this.traversals.next]))}before(r){return this.el[this.traversals.parent].insertBefore(r,this.el),r}replace(r){return this.el[this.traversals.parent].replaceChild(r,this.el),r}append(r){return this.el.appendChild(r),r}teleportTo(r){return r&&(r._x_teleport?r._x_teleport:r)}teleportBack(r){return r&&(r._x_teleportBack?r._x_teleportBack:r)}};function o(a){return new D(a)}function R(a){return document.createRange().createContextualFragment(a).firstElementChild}function j(a){return a.nodeType===3||a.nodeType===8}var H=()=>{},L=()=>{};async function _(a,r,v){let A,w,E,K,O,b,N,S,g,k,B;function d(e){if(!!B)return L((e||"").replace(`
`,"\\n"),A,w),new Promise(t=>H=()=>t())}function q(e={}){let t=c=>c.getAttribute("key"),n=()=>{};O=e.updating||n,b=e.updated||n,N=e.removing||n,S=e.removed||n,g=e.adding||n,k=e.added||n,E=e.key||t,K=e.lookahead||!1,B=e.debug||!1}async function M(e,t){if(z(e,t)){let c=G(e,t);return await d("Swap elements"),c}let n=!1;if(!y(O,e,t,()=>n=!0)){if(window.Alpine&&W(e,t,()=>n=!0),j(t)){await P(e,t),b(e,t);return}n||await I(e,t),b(e,t),await J(e,t)}}function z(e,t){return e.nodeType!=t.nodeType||e.nodeName!=t.nodeName||x(e)!=x(t)}function G(e,t){if(y(N,e))return;let n=t.cloneNode(!0);y(g,n)||(o(e).replace(n),S(e),k(n))}async function P(e,t){let n=t.nodeValue;e.nodeValue!==n&&(e.nodeValue=n,await d("Change text node to: "+n))}async function I(e,t){if(e._x_isShown&&!t._x_isShown||!e._x_isShown&&t._x_isShown)return;let n=Array.from(e.attributes),c=Array.from(t.attributes);for(let h=n.length-1;h>=0;h--){let p=n[h].name;t.hasAttribute(p)||(e.removeAttribute(p),await d("Remove attribute"))}for(let h=c.length-1;h>=0;h--){let p=c[h].name,l=c[h].value;e.getAttribute(p)!==l&&(e.setAttribute(p,l),await d(`Set [${p}] attribute to: "${l}"`))}}async function J(e,t){let n=e.childNodes,c=t.childNodes,h=V(c),p=V(n),l=o(t).nodes().first(),i=o(e).nodes().first(),m={};for(;l;){let u=x(l),f=x(i);if(!i)if(u&&m[u]){let s=m[u];o(e).append(s),i=s,await d("Add element (from key)")}else{let s=Q(l,e)||{};await d("Add element: "+(s.outerHTML||s.nodeValue)),l=o(l).nodes().next();continue}if(K){let s=o(l).next(),F=!1;for(;!F&&s;)i.isEqualNode(s)&&(F=!0,i=T(l,i),f=x(i),await d("Move element (lookahead)")),s=o(s).next()}if(u!==f){if(!u&&f){m[f]=i,i=T(l,i),m[f].remove(),i=o(i).nodes().next(),l=o(l).nodes().next(),await d('No "to" key');continue}if(u&&!f&&p[u]&&(i=o(i).replace(p[u]),await d('No "from" key')),u&&f){m[f]=i;let s=p[u];if(s)i=o(i).replace(s),await d('Move "from" key');else{m[f]=i,i=T(l,i),m[f].remove(),i=o(i).next(),l=o(l).next(),await d("Swap elements with keys");continue}}}let U=i&&o(i).nodes().next();await M(i,l),l=l&&o(l).nodes().next(),i=U}let C=[];for(;i;)y(N,i)||C.push(i),i=o(i).nodes().next();for(;C.length;){let u=C.shift();u.remove(),await d("remove el"),S(u)}}function x(e){return e&&e.nodeType===1&&E(e)}function V(e){let t={};return e.forEach(n=>{let c=x(n);c&&(t[c]=n)}),t}function Q(e,t){if(!y(g,e)){let n=e.cloneNode(!0);return o(t).append(n),k(n),n}return null}function T(e,t){if(!y(g,e)){let n=e.cloneNode(!0);return o(t).before(n),k(n),n}return t}return q(v),A=a,w=R(r),window.Alpine&&window.Alpine.closestDataStack&&!a._x_dataStack&&(w._x_dataStack=window.Alpine.closestDataStack(a),w._x_dataStack&&window.Alpine.clone(a,w)),await d(),await M(a,w),A=void 0,w=void 0,a}_.step=()=>H();_.log=a=>{L=a};function y(a,...r){let v=!1;return a(...r,()=>v=!0),v}function W(a,r,v){a.nodeType===1&&a._x_dataStack&&window.Alpine.clone(a,r)}function $(a){a.morph=_}document.addEventListener("alpine:init",()=>{window.Alpine.plugin($)});})();
