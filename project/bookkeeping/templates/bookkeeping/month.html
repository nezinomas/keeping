{% extends 'base.html' %}
{% load table_cell %}{% load template_filters %}

{% block head %}
<script src="https://code.highcharts.com/highcharts.src.js"></script>
{% endblock head %}


{% block content %}
<div class="row my-2">
    <div class="col-lg-6">
        <table class="table table-striped table-hover stats">
            <thead class="thead-light">
                <tr class="top">
                    <th></th>
                    {% for cat in expense_types %}<th class="text-right">{{ cat }}</th>{% endfor %}
                </tr>
            </thead>
            <tbody>
                {% for row in expenses %}
                <tr {% if day|slugify == row.date|date:'j' %}class="bg-warning"{% endif %}>
                    <td>{{ row.date|date:'d' }}</td>
                    {% for cat in expense_types %}
                    {% cell row|get_item:cat %}
                    {% endfor %}
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="col-lg-6">
        Lorem ipsum, dolor sit amet consectetur adipisicing elit. Maiores, itaque eaque quaerat ratione nulla nesciunt vero qui tenetur quos placeat ullam facere non assumenda expedita consequatur illum, quam error. Id.
    </div>
</div>

<div class="row my-2">
    <div class="col-lg-12">
        {% with request.user.profile.month as month %}
        {% for m in month_list %}
        {% with m|date:'n' as m_num %}
        <a href="{% url 'core:set_month' m_num  %}" class="btn btn-sm mr-1 px-3 {% if month|slugify == m_num %}btn-primary{% else %}btn-secondary{% endif %}">{{ m|date:'F'|title }}</a>
        {% endwith %}{% endfor %}{% endwith %}
    </div>
</div>

{% endblock content%}
