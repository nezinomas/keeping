{% load get_item %}
{% load define_action %}
{% load table_cell %}
{% load i18n %}

<table class="table table-striped table-hover stats">
    <thead class="thead-light">
        <tr class="top">
            <th>{% translate 'Title' %}</th>
            {% for month in months %}<th class="w7p text-end">{{ month }}</th>{% endfor %}
            <th colspan="2"></th>
        </tr>
    </thead>
    <tbody>
        {% for item in items %}
        {% if url_update %}{% url url_update item.id as url %}{% else %}{% define '' as url %}{% endif %}
        {% with item|get_obj_attr:type as name %}
        <tr data-url="{{ url }}" class="dblclick{% if name == _('Residual') %} bg-warning{% endif %}">
            <td class="text-start">{{ name }}{% if item.expense_type.necessary or item.saving_type or item.title %} <i class="bi bi-star plans-star"></i>{% endif %}</td>
            {% cell item.january %}
            {% cell item.february %}
            {% cell item.march %}
            {% cell item.april %}
            {% cell item.may %}
            {% cell item.june %}
            {% cell item.july %}
            {% cell item.august %}
            {% cell item.september %}
            {% cell item.october %}
            {% cell item.november %}
            {% cell item.december %}
            <td class="w-edit">
            {% if url_delete %}
                <a role="button" data-url="{{ url }}" class="js-create edit" title="{% translate 'Edit' %}"><i class="bi bi-pencil-fill"></i></a>
            {% endif %}
            </td>
            <td class="w-delete">
            {% if url_delete %}
                <a role="button" class="js-delete trash" data-url="{% url url_delete item.id %}" title="{% translate 'Delete' %}"><i class="bi bi-trash-fill"></i></a>
            {% endif %}
            </td>
        </tr>{% endwith %}
        {% empty %}
        <tr class="table-warning text-center">
            <td colspan="13" class="py-2">
                {% blocktranslate with year=year|title %}No records in <b>{{ year }}</b>.{% endblocktranslate %}
            <td></td>
        </tr>
        {% endfor %}
    </tbody>
</table>
